<%= render 'shared/navbar' %>
<div class="show-grid">
  <div class="container-header">
    <%= render 'modal' %>
    <div class="user-name-container">
      <h3><%= @user.name %></h3>
      <p><%= @user.alias %></p>
      <div class="actions">
        <p class = "main-action">Profile</p>
        <div class="profile-actions">
          <%= link_to 'Choose a new Room', new_user_participant_path(@user) %>
          <%= render 'messages/modal' %>
          <%= render 'events/modal' %>
        </div>
      </div>
    </div>
  </div>
  <div class="container-infoshow">
    <div class="messages-infoshow">
      <p>Recommendations...</p>
      <% @user.events.each do |event| %>
        <p><%= event.content %></p>
      <% end %>
    </div>
    <div class="messages-infoshow">
      <p>Messages...</p>
      <% @user.messages.each do |message| %>
        <p><%= message.content %></p>
      <% end %>
    </div>
  </div>
  <div class = "rooms-infoshow">
    <div class="room-container">
      <p id="cont-title">Rooms</p>
      <div class="room-tags">
        <% @user.rooms.order("name asc").each do |room| %>
          <div class="room-tag">
            <%= link_to participant_path(:room_id => room.id), method: :delete, data: { confirm: "Are you sure?" } do %>
              <i class="fas fa-trash-alt del-icon"></i>
            <% end %>
            <p><%= room.name %></p>
            <%= link_to user_room_path(@user, room) do %>
              <i class="fas fa-external-link-alt enter-icon"></i>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>